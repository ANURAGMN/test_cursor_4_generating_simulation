<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#e65100">
<title>Oxygen & Combustion ‚Äì Candle Experiment</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #e65100 0%, #ff9800 100%);
  min-height: 100vh;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

#app {
  max-width: 420px;
  margin: auto;
  padding: 10px;
}

.header {
  text-align: center;
  color: #fff;
  padding: 12px;
}

.header h1 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
.header p { font-size: 12px; opacity: 0.95; }

.concept-card {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;
  border-left: 4px solid #e65100;
}

.concept-title { font-size: 12px; font-weight: 700; color: #e65100; margin-bottom: 6px; }
.concept-text { font-size: 12px; color: #37474f; line-height: 1.5; }

.sim-card {
  background: #fff;
  border-radius: 14px;
  padding: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 10px;
}

.visual {
  position: relative;
  height: 42vh;
  min-height: 300px;
  background: linear-gradient(180deg, #37474f 0%, #455a64 100%);
  border-radius: 12px;
  overflow: hidden;
}

svg { width: 100%; height: 100%; }

.timer-display {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 8px 12px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: 600;
}

.status-display {
  position: absolute;
  top: 10px;
  left: 10px;
  background: #4caf50;
  color: #fff;
  padding: 6px 12px;
  border-radius: 15px;
  font-size: 10px;
  font-weight: 600;
}

.controls {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.ctrl-btn {
  flex: 1;
  padding: 14px 8px;
  border: none;
  border-radius: 10px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ctrl-btn:active { transform: scale(0.98); }
.ctrl-btn:disabled { background: #ccc !important; }

.ctrl-btn.light { background: linear-gradient(135deg, #ff5722 0%, #ff7043 100%); color: white; }
.ctrl-btn.cover { background: linear-gradient(135deg, #2196f3 0%, #64b5f6 100%); color: white; }
.ctrl-btn.reset { background: linear-gradient(135deg, #607d8b 0%, #90a4ae 100%); color: white; }

.observation-box {
  background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 4px solid #e91e63;
}

.obs-title { font-size: 12px; font-weight: 700; color: #c2185b; margin-bottom: 6px; }
.obs-text { font-size: 11px; color: #37474f; line-height: 1.6; }

.learning-panel {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 3px solid #e65100;
}

.learning-title { font-size: 12px; font-weight: 700; color: #e65100; margin-bottom: 6px; }
.learning-text { font-size: 11px; color: #37474f; line-height: 1.6; }

.takeaway {
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 4px solid #4caf50;
}

.takeaway-title { font-size: 12px; font-weight: 700; color: #2e7d32; margin-bottom: 6px; }
.takeaway-text { font-size: 11px; color: #37474f; line-height: 1.5; }

@keyframes flame {
  0%, 100% { transform: scaleY(1) scaleX(1); }
  50% { transform: scaleY(1.15) scaleX(0.9); }
}

.flame-anim { animation: flame 0.4s ease-in-out infinite; }

@keyframes flameOut {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0); opacity: 0; }
}

.flame-out { animation: flameOut 0.5s ease-out forwards; }

@keyframes jarDown {
  0% { transform: translateY(-150px); }
  100% { transform: translateY(0); }
}

.jar-down { animation: jarDown 0.5s ease-out forwards; }
</style>
</head>

<body>
<div id="app">

<div class="header">
  <h1>üïØÔ∏è Candle Under Glass</h1>
  <p>Why does the candle go out?</p>
</div>

<div class="concept-card">
  <div class="concept-title">üìö Key Concept</div>
  <div class="concept-text">
    <strong>Oxygen is essential for combustion.</strong> When a candle is covered with a glass jar, the oxygen inside gets used up. Without oxygen, the flame goes out - proving oxygen's role in burning!
  </div>
</div>

<div class="sim-card">
  <div class="visual">
    <div class="timer-display" id="timer-display">‚è±Ô∏è 0s</div>
    <div class="status-display" id="status-display">Ready</div>
    <svg viewBox="0 0 400 300" id="scene">
      <!-- Table/surface -->
      <rect x="50" y="250" width="300" height="30" rx="3" fill="#8d6e63"/>
      
      <!-- Candle base/holder -->
      <rect x="175" y="220" width="50" height="30" rx="3" fill="#ffcc80"/>
      
      <!-- Candle body -->
      <rect x="185" y="150" width="30" height="70" rx="2" fill="#fff9c4" id="candle-body"/>
      <rect x="190" y="155" width="8" height="15" rx="1" fill="#fff" opacity="0.5"/>
      
      <!-- Wick -->
      <line x1="200" y1="150" x2="200" y2="135" stroke="#5d4037" stroke-width="2" id="wick"/>
      
      <!-- Flame -->
      <g id="flame-group" style="display:none">
        <ellipse cx="200" cy="115" rx="8" ry="20" fill="#ff9800" class="flame-anim"/>
        <ellipse cx="200" cy="118" rx="5" ry="14" fill="#ffeb3b" class="flame-anim"/>
        <ellipse cx="200" cy="120" rx="2" ry="8" fill="#fff" class="flame-anim"/>
      </g>
      
      <!-- Smoke (shown when flame goes out) -->
      <g id="smoke-group" style="display:none">
        <text x="195" y="110" font-size="14" fill="#90a4ae">~</text>
        <text x="205" y="100" font-size="14" fill="#90a4ae">~</text>
        <text x="200" y="90" font-size="14" fill="#90a4ae">~</text>
      </g>
      
      <!-- Glass jar (initially hidden/above) -->
      <g id="glass-jar" style="display:none">
        <rect x="150" y="70" width="100" height="180" rx="5" fill="none" stroke="#b0bec5" stroke-width="3"/>
        <rect x="155" y="75" width="90" height="170" rx="3" fill="#e3f2fd" opacity="0.2"/>
        <rect x="160" y="80" width="20" height="60" rx="2" fill="#fff" opacity="0.2"/>
      </g>
      
      <!-- Oxygen indicators (inside jar when covered) -->
      <g id="oxygen-indicators" style="display:none">
        <text x="165" y="120" font-size="10" fill="#4fc3f7" id="o2-1">O‚ÇÇ</text>
        <text x="210" y="100" font-size="10" fill="#4fc3f7" id="o2-2">O‚ÇÇ</text>
        <text x="185" y="140" font-size="10" fill="#4fc3f7" id="o2-3">O‚ÇÇ</text>
        <text x="220" y="130" font-size="10" fill="#4fc3f7" id="o2-4">O‚ÇÇ</text>
      </g>
      
      <!-- CO2 indicators -->
      <g id="co2-indicators" style="display:none">
        <text x="165" y="120" font-size="10" fill="#ffab91">CO‚ÇÇ</text>
        <text x="210" y="100" font-size="10" fill="#ffab91">CO‚ÇÇ</text>
        <text x="185" y="140" font-size="10" fill="#ffab91">CO‚ÇÇ</text>
      </g>
      
      <!-- Labels -->
      <text x="200" y="280" font-size="10" fill="#90a4ae" text-anchor="middle">Candle on table</text>
    </svg>
  </div>
  
  <div class="controls">
    <button class="ctrl-btn light" id="btn-light" onclick="lightCandle()">üî• Light Candle</button>
    <button class="ctrl-btn cover" id="btn-cover" onclick="coverWithJar()" disabled>ü´ô Cover with Jar</button>
    <button class="ctrl-btn reset" id="btn-reset" onclick="resetExperiment()" disabled>üîÑ Reset</button>
  </div>
</div>

<div class="observation-box">
  <div class="obs-title">üëÅÔ∏è Observation</div>
  <div class="obs-text" id="obs-text">
    Click "Light Candle" to start the experiment. Then cover it with a glass jar to see what happens!
  </div>
</div>

<div class="learning-panel">
  <div class="learning-title">üî¨ What's Happening?</div>
  <div class="learning-text" id="learning-text">
    This classic experiment proves that <strong>oxygen is necessary for burning</strong>.<br><br>
    When the jar covers the candle, oxygen inside the jar gets consumed. The flame produces <strong>carbon dioxide (CO‚ÇÇ)</strong> and <strong>water vapor</strong>. When oxygen runs out, the flame dies!
  </div>
</div>

<div class="takeaway">
  <div class="takeaway-title">üéØ Scientific Conclusion</div>
  <div class="takeaway-text">
    <strong>Combustion requires oxygen!</strong><br><br>
    ‚Ä¢ The candle uses up O‚ÇÇ inside the jar<br>
    ‚Ä¢ CO‚ÇÇ and H‚ÇÇO are produced (chemical change)<br>
    ‚Ä¢ No oxygen = no fire<br><br>
    This is why fire extinguishers work by cutting off oxygen supply!
  </div>
</div>

</div>

<script>
let candleLit = false;
let jarCovered = false;
let timer = 0;
let timerInterval = null;

const flameGroup = document.getElementById('flame-group');
const smokeGroup = document.getElementById('smoke-group');
const glassJar = document.getElementById('glass-jar');
const oxygenIndicators = document.getElementById('oxygen-indicators');
const co2Indicators = document.getElementById('co2-indicators');
const btnLight = document.getElementById('btn-light');
const btnCover = document.getElementById('btn-cover');
const btnReset = document.getElementById('btn-reset');
const timerDisplay = document.getElementById('timer-display');
const statusDisplay = document.getElementById('status-display');
const obsText = document.getElementById('obs-text');
const learningText = document.getElementById('learning-text');

function lightCandle() {
  candleLit = true;
  flameGroup.style.display = 'block';
  flameGroup.classList.remove('flame-out');
  smokeGroup.style.display = 'none';
  
  btnLight.disabled = true;
  btnCover.disabled = false;
  
  statusDisplay.textContent = 'üî• Burning';
  statusDisplay.style.background = '#ff9800';
  
  obsText.innerHTML = `
    The candle is now <strong>burning</strong>!<br><br>
    It's using oxygen from the air and releasing heat, light, CO‚ÇÇ, and water vapor. Now cover it with the jar to see what happens!
  `;
  
  learningText.innerHTML = `
    <strong>Right now:</strong><br>
    ‚Ä¢ Candle wax (fuel) is burning<br>
    ‚Ä¢ Oxygen from air supports the flame<br>
    ‚Ä¢ Heat keeps the reaction going<br><br>
    This is the <strong>fire triangle</strong> in action! What happens if we limit the oxygen?
  `;
}

function coverWithJar() {
  if (!candleLit) return;
  
  jarCovered = true;
  glassJar.style.display = 'block';
  glassJar.classList.add('jar-down');
  oxygenIndicators.style.display = 'block';
  
  btnCover.disabled = true;
  
  statusDisplay.textContent = 'ü´ô Covered';
  statusDisplay.style.background = '#2196f3';
  
  obsText.innerHTML = `
    Jar placed! The candle is now in a <strong>closed space</strong> with limited oxygen.<br><br>
    Watch what happens as the oxygen gets used up...
  `;
  
  // Start countdown
  timer = 0;
  timerInterval = setInterval(() => {
    timer++;
    timerDisplay.textContent = `‚è±Ô∏è ${timer}s`;
    
    // Fade out oxygen indicators over time
    const opacity = Math.max(0, 1 - (timer / 5));
    document.querySelectorAll('#oxygen-indicators text').forEach(t => {
      t.setAttribute('fill-opacity', opacity);
    });
    
    if (timer === 2) {
      obsText.innerHTML = `
        <strong>Oxygen decreasing...</strong><br><br>
        The flame is consuming the O‚ÇÇ inside the jar. CO‚ÇÇ is being produced!
      `;
    }
    
    if (timer === 4) {
      obsText.innerHTML = `
        <strong>Almost no oxygen left!</strong><br><br>
        The flame is getting weaker. It's struggling to find oxygen...
      `;
      // Flame starts flickering/shrinking
      flameGroup.style.transform = 'scale(0.7)';
    }
    
    if (timer >= 5) {
      // Flame goes out
      clearInterval(timerInterval);
      flameGroup.classList.add('flame-out');
      
      setTimeout(() => {
        flameGroup.style.display = 'none';
        smokeGroup.style.display = 'block';
        oxygenIndicators.style.display = 'none';
        co2Indicators.style.display = 'block';
        
        statusDisplay.textContent = 'üí® Extinguished';
        statusDisplay.style.background = '#607d8b';
        
        btnReset.disabled = false;
        
        obsText.innerHTML = `
          <strong style="color:#c62828">üïØÔ∏è The candle went out!</strong><br><br>
          After ~5 seconds, all the oxygen inside the jar was used up. Without oxygen, <strong>combustion cannot continue</strong>!<br><br>
          The jar is now filled with CO‚ÇÇ (you could test this with lime water - it would turn milky!)
        `;
        
        learningText.innerHTML = `
          <strong style="color:#2e7d32">‚úÖ Experiment Complete!</strong><br><br>
          <strong>What we proved:</strong><br>
          ‚Ä¢ Oxygen is <strong>essential</strong> for burning<br>
          ‚Ä¢ The flame used up O‚ÇÇ in the jar<br>
          ‚Ä¢ CO‚ÇÇ was produced (a new substance = chemical change)<br>
          ‚Ä¢ No oxygen ‚Üí Fire goes out<br><br>
          This is why smothering a fire (covering it) works!
        `;
      }, 500);
    }
  }, 1000);
}

function resetExperiment() {
  clearInterval(timerInterval);
  
  candleLit = false;
  jarCovered = false;
  timer = 0;
  
  flameGroup.style.display = 'none';
  flameGroup.style.transform = 'scale(1)';
  flameGroup.classList.remove('flame-out');
  smokeGroup.style.display = 'none';
  glassJar.style.display = 'none';
  glassJar.classList.remove('jar-down');
  oxygenIndicators.style.display = 'none';
  co2Indicators.style.display = 'none';
  
  document.querySelectorAll('#oxygen-indicators text').forEach(t => {
    t.setAttribute('fill-opacity', '1');
  });
  
  btnLight.disabled = false;
  btnCover.disabled = true;
  btnReset.disabled = true;
  
  timerDisplay.textContent = '‚è±Ô∏è 0s';
  statusDisplay.textContent = 'Ready';
  statusDisplay.style.background = '#4caf50';
  
  obsText.innerHTML = `
    Click "Light Candle" to start the experiment. Then cover it with a glass jar to see what happens!
  `;
  
  learningText.innerHTML = `
    This classic experiment proves that <strong>oxygen is necessary for burning</strong>.<br><br>
    When the jar covers the candle, oxygen inside the jar gets consumed. The flame produces <strong>carbon dioxide (CO‚ÇÇ)</strong> and <strong>water vapor</strong>. When oxygen runs out, the flame dies!
  `;
}
</script>
</body>
</html>
