<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#2c3e50">
<title>Industrial Waste Treatment ‚Äì Protecting Our Waters</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
  min-height: 100vh;
  min-height: -webkit-fill-available;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  -webkit-font-smoothing: antialiased;
}

#app {
  max-width: 420px;
  margin: auto;
  padding: 10px;
  padding-top: max(10px, env(safe-area-inset-top));
  padding-bottom: max(10px, env(safe-area-inset-bottom));
}

.header {
  text-align: center;
  color: #fff;
  padding: 12px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.header h1 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
.header p { font-size: 12px; opacity: 0.95; }

.section-title {
  font-size: 13px;
  font-weight: 600;
  margin: 8px 4px;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.sim-card {
  background: #fff;
  border-radius: 14px;
  padding: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 12px;
}

.visual {
  position: relative;
  height: 40vh;
  min-height: 300px;
  background: linear-gradient(180deg, #b0bec5 0%, #78909c 40%, #546e7a 100%);
  border-radius: 12px;
  overflow: hidden;
  touch-action: manipulation;
  -webkit-user-select: none;
  user-select: none;
}

svg { width: 100%; height: 100%; display: block; }

.static-hint {
  position: absolute;
  top: 8px;
  left: 8px;
  background: rgba(255,255,255,0.95);
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 11px;
  line-height: 1.3;
  box-shadow: 0 3px 8px rgba(0,0,0,0.12);
  z-index: 10;
}

.status-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(255,255,255,0.95);
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 11px;
  font-weight: 600;
  box-shadow: 0 3px 8px rgba(0,0,0,0.12);
  transition: all 0.3s ease;
}

.status-badge.danger { background: #ffebee; color: #c62828; }
.status-badge.safe { background: #e8f5e9; color: #2e7d32; }

.metrics {
  background: #eceff1;
  border-radius: 8px;
  padding: 8px 12px;
  font-size: 11px;
  line-height: 1.6;
  margin-top: 8px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px 12px;
}

.metric-item { display: flex; justify-content: space-between; }
.metric-label { color: #666; }
.metric-value { font-weight: 600; color: #007AFF; }
.metric-value.danger { color: #c62828; }
.metric-value.safe { color: #2e7d32; }

.control-btns {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.action-btn {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  border: none;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform 0.1s ease;
}

.action-btn:active { transform: scale(0.95); }
.action-btn:disabled { opacity: 0.5; }

.release-btn {
  background: linear-gradient(135deg, #ef5350 0%, #c62828 100%);
  color: white;
}

.treat-btn {
  background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
  color: white;
}

.reset-btn {
  background: #f5f5f5;
  color: #666;
  flex: 0.5;
}

.process-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px;
  background: #fff;
  border-radius: 10px;
  margin-top: 10px;
}

.process-step {
  text-align: center;
  padding: 8px;
  border-radius: 8px;
  font-size: 9px;
}

.process-step.danger { background: #ffebee; color: #c62828; }
.process-step.treatment { background: #e8f5e9; color: #2e7d32; }
.process-step.safe { background: #e3f2fd; color: #1565c0; }

.process-icon { font-size: 20px; margin-bottom: 4px; }
.process-arrow { font-size: 16px; color: #999; }

.ph-display {
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  margin-top: 10px;
  text-align: center;
}

.ph-value {
  font-size: 24px;
  font-weight: bold;
  transition: color 0.5s ease;
}

.ph-value.acidic { color: #c62828; }
.ph-value.neutral { color: #2e7d32; }

.ph-label { font-size: 11px; color: #666; }

.insight-box {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border-radius: 10px;
  padding: 10px;
  margin-top: 10px;
  font-size: 11px;
  line-height: 1.5;
  border-left: 4px solid #2196f3;
}

.insight-title { font-weight: 600; color: #1565c0; margin-bottom: 4px; }

.takeaway {
  background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  font-size: 12px;
  line-height: 1.5;
  display: none;
}

.takeaway.show { display: block; }
.takeaway-title { font-weight: 600; color: #1b5e20; margin-bottom: 4px; }

@media screen and (max-width: 380px) {
  .action-btn { padding: 10px; font-size: 10px; }
  .process-step { padding: 6px; font-size: 8px; }
}

@supports (padding: max(0px)) {
  #app {
    padding-left: max(10px, env(safe-area-inset-left));
    padding-right: max(10px, env(safe-area-inset-right));
  }
}
</style>
</head>

<body>
<div id="app">

<div class="header">
  <h1>üè≠ Industrial Waste Treatment</h1>
  <p>Protecting aquatic life through neutralisation!</p>
</div>

<div class="section-title">Simulate waste release and treatment</div>
<div class="sim-card" id="sim"></div>

<div class="process-flow">
  <div class="process-step danger">
    <div class="process-icon">üè≠</div>
    <div>Acidic<br>Waste</div>
  </div>
  <div class="process-arrow">‚Üí</div>
  <div class="process-step treatment">
    <div class="process-icon">‚öóÔ∏è</div>
    <div>Add Base<br>(Neutralise)</div>
  </div>
  <div class="process-arrow">‚Üí</div>
  <div class="process-step safe">
    <div class="process-icon">üíß</div>
    <div>Safe Water<br>(pH 7)</div>
  </div>
</div>

<div class="ph-display">
  <div class="ph-value neutral" id="ph-value">pH 7.0</div>
  <div class="ph-label">Water pH Level</div>
</div>

<div class="insight-box">
  <div class="insight-title">üîë Why treatment matters:</div>
  Factory waste is often <strong>acidic</strong> and can kill fish and other aquatic life. By adding a <strong>base</strong> to neutralise the acid before release, we protect our ecosystems!
</div>

<div class="takeaway" id="takeaway">
  <div class="takeaway-title">üí° What you discovered:</div>
  <span id="takeaway-text">Industrial waste treatment uses neutralisation to make acidic waste safe for rivers and lakes!</span>
</div>

</div>

<script>
const container = document.getElementById('sim');

container.innerHTML = `
<div class="visual">
  <div class="static-hint">
    üëÜ See what happens with/without treatment
  </div>
  <div class="status-badge" id="status-badge">‚è≥ Waiting...</div>

  <svg viewBox="0 0 400 320">
    <!-- Factory -->
    <g transform="translate(50, 30)">
      <rect x="0" y="40" width="70" height="80" rx="3" fill="#455a64"/>
      <rect x="25" y="0" width="20" height="50" fill="#37474f"/>
      <text x="35" y="-10" text-anchor="middle" font-size="20">üí®</text>
      <text x="35" y="140" text-anchor="middle" font-size="9" fill="#fff">Factory</text>
    </g>
    
    <!-- Pipe -->
    <rect x="120" y="80" width="100" height="15" rx="3" fill="#607d8b"/>
    <rect x="210" y="80" width="15" height="60" rx="3" fill="#607d8b"/>
    
    <!-- Waste flow -->
    <rect x="215" y="140" width="10" height="50" rx="2" id="waste-flow" fill="transparent"/>
    
    <!-- Treatment tank -->
    <g transform="translate(320, 50)">
      <rect x="-30" y="0" width="60" height="80" rx="5" fill="#eceff1" stroke="#90a4ae" stroke-width="2"/>
      <rect x="-25" y="20" width="50" height="50" rx="3" fill="#90caf9"/>
      <text x="0" y="-10" text-anchor="middle" font-size="9" fill="#455a64" font-weight="600">Treatment</text>
      <text x="0" y="100" text-anchor="middle" font-size="8" fill="#666">Base Solution</text>
    </g>
    
    <!-- River -->
    <rect x="0" y="200" width="400" height="120" rx="0" id="river" fill="#29b6f6"/>
    
    <!-- Fish -->
    <g id="fish-group">
      <text x="80" y="250" font-size="30" id="fish1">üêü</text>
      <text x="200" y="270" font-size="25" id="fish2">üê†</text>
      <text x="300" y="240" font-size="28" id="fish3">üêü</text>
    </g>
    
    <!-- Warning sign -->
    <g id="warning-sign" opacity="0" transform="translate(200, 180)">
      <rect x="-50" y="-12" width="100" height="24" rx="5" fill="#ffc107"/>
      <text x="0" y="5" text-anchor="middle" font-size="9" fill="#333" font-weight="600">‚ö†Ô∏è ACIDIC WASTE!</text>
    </g>
  </svg>
</div>

<div class="metrics">
  <div class="metric-item"><span class="metric-label">Waste Type:</span> <span class="metric-value" id="waste-type">‚Äî</span></div>
  <div class="metric-item"><span class="metric-label">Treatment:</span> <span class="metric-value" id="treatment-status">‚Äî</span></div>
  <div class="metric-item"><span class="metric-label">River Status:</span> <span class="metric-value" id="river-status">Clean</span></div>
  <div class="metric-item"><span class="metric-label">Fish Status:</span> <span class="metric-value" id="fish-status">Healthy</span></div>
</div>

<div class="control-btns">
  <button class="action-btn release-btn" id="release-btn">üè≠ Release Untreated</button>
  <button class="action-btn treat-btn" id="treat-btn" disabled>‚öóÔ∏è Neutralise First</button>
  <button class="action-btn reset-btn" id="reset-btn">üîÑ</button>
</div>`;

let state = 'initial';

const statusBadge = document.getElementById('status-badge');
const wasteFlow = document.getElementById('waste-flow');
const river = document.getElementById('river');
const fish1 = document.getElementById('fish1');
const fish2 = document.getElementById('fish2');
const fish3 = document.getElementById('fish3');
const warnSign = document.getElementById('warning-sign');
const wasteType = document.getElementById('waste-type');
const treatmentStatus = document.getElementById('treatment-status');
const riverStatus = document.getElementById('river-status');
const fishStatus = document.getElementById('fish-status');
const phValue = document.getElementById('ph-value');
const releaseBtn = document.getElementById('release-btn');
const treatBtn = document.getElementById('treat-btn');
const resetBtn = document.getElementById('reset-btn');
const takeaway = document.getElementById('takeaway');
const takeawayText = document.getElementById('takeaway-text');

releaseBtn.onclick = function() {
  if (state !== 'initial') return;
  state = 'polluted';
  
  // Show acidic waste flow
  wasteFlow.style.transition = 'fill 0.3s ease';
  wasteFlow.style.fill = '#ef5350';
  warnSign.style.transition = 'opacity 0.3s ease';
  warnSign.style.opacity = '1';
  
  setTimeout(() => {
    // Pollute river
    river.style.transition = 'fill 0.8s ease';
    river.style.fill = '#5d4037';
    
    // Kill fish
    [fish1, fish2, fish3].forEach(fish => {
      fish.style.transition = 'all 0.5s ease';
      fish.style.filter = 'grayscale(100%)';
      fish.style.transform = 'rotate(180deg)';
    });
    
    statusBadge.textContent = '‚ò†Ô∏è DISASTER!';
    statusBadge.className = 'status-badge danger';
    
    wasteType.textContent = 'Acidic (pH 3)';
    wasteType.className = 'metric-value danger';
    treatmentStatus.textContent = 'None ‚ùå';
    treatmentStatus.className = 'metric-value danger';
    riverStatus.textContent = 'Polluted!';
    riverStatus.className = 'metric-value danger';
    fishStatus.textContent = 'Dead ‚ò†Ô∏è';
    fishStatus.className = 'metric-value danger';
    
    phValue.textContent = 'pH 3.0';
    phValue.className = 'ph-value acidic';
    
    releaseBtn.disabled = true;
    treatBtn.disabled = false;
    
    takeawayText.textContent = 'DISASTER! Untreated acidic waste (pH 3) has killed the fish! The acid destroyed their gills. This is why factories MUST neutralise waste before release!';
    takeaway.classList.add('show');
  }, 500);
};

treatBtn.onclick = function() {
  if (state !== 'polluted') return;
  state = 'treated';
  
  // Show treatment working
  wasteFlow.style.fill = '#81c784';
  warnSign.style.opacity = '0';
  
  setTimeout(() => {
    // Clean river
    river.style.fill = '#29b6f6';
    
    // Revive fish (new generation)
    [fish1, fish2, fish3].forEach(fish => {
      fish.style.filter = 'none';
      fish.style.transform = 'rotate(0deg)';
    });
    
    statusBadge.textContent = '‚úÖ SAFE!';
    statusBadge.className = 'status-badge safe';
    
    wasteType.textContent = 'Neutralised';
    wasteType.className = 'metric-value safe';
    treatmentStatus.textContent = 'Success ‚úÖ';
    treatmentStatus.className = 'metric-value safe';
    riverStatus.textContent = 'Clean';
    riverStatus.className = 'metric-value safe';
    fishStatus.textContent = 'Healthy';
    fishStatus.className = 'metric-value safe';
    
    phValue.textContent = 'pH 7.0';
    phValue.className = 'ph-value neutral';
    
    treatBtn.disabled = true;
    
    takeawayText.textContent = 'SUCCESS! By adding a base to neutralise the acidic waste, we performed a neutralisation reaction. The treated water (pH 7) is now safe for aquatic life!';
  }, 800);
};

resetBtn.onclick = function() {
  state = 'initial';
  
  wasteFlow.style.fill = 'transparent';
  warnSign.style.opacity = '0';
  river.style.fill = '#29b6f6';
  
  [fish1, fish2, fish3].forEach(fish => {
    fish.style.filter = 'none';
    fish.style.transform = 'rotate(0deg)';
  });
  
  statusBadge.textContent = '‚è≥ Waiting...';
  statusBadge.className = 'status-badge';
  
  wasteType.textContent = '‚Äî';
  wasteType.className = 'metric-value';
  treatmentStatus.textContent = '‚Äî';
  treatmentStatus.className = 'metric-value';
  riverStatus.textContent = 'Clean';
  riverStatus.className = 'metric-value';
  fishStatus.textContent = 'Healthy';
  fishStatus.className = 'metric-value';
  
  phValue.textContent = 'pH 7.0';
  phValue.className = 'ph-value neutral';
  
  releaseBtn.disabled = false;
  treatBtn.disabled = true;
  takeaway.classList.remove('show');
};
</script>
</body>
</html>
