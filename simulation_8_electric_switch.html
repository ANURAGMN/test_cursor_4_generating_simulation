<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#455a64">
<title>Electric Switch ‚Äì Circuit Controller</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #455a64 0%, #78909c 100%);
  min-height: 100vh;
  min-height: -webkit-fill-available;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  -webkit-font-smoothing: antialiased;
}

#app {
  max-width: 420px;
  margin: auto;
  padding: 10px;
  padding-top: max(10px, env(safe-area-inset-top));
  padding-bottom: max(10px, env(safe-area-inset-bottom));
}

.header {
  text-align: center;
  color: #fff;
  padding: 12px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.header h1 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
.header p { font-size: 12px; opacity: 0.95; }

.concept-card {
  background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;
  border-left: 4px solid #f9a825;
}

.concept-title {
  font-size: 12px;
  font-weight: 700;
  color: #f57f17;
  margin-bottom: 6px;
}

.concept-text {
  font-size: 12px;
  color: #5d4037;
  line-height: 1.5;
}

.sim-card {
  background: #fff;
  border-radius: 14px;
  padding: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 10px;
}

.visual {
  position: relative;
  height: 40vh;
  min-height: 280px;
  background: linear-gradient(180deg, #263238 0%, #37474f 100%);
  border-radius: 12px;
  overflow: hidden;
}

svg { width: 100%; height: 100%; }

.tap-hint {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.9);
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 10px;
  color: #333;
}

.switch-types {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.switch-type-btn {
  flex: 1;
  padding: 12px 8px;
  border: 2px solid #e0e0e0;
  border-radius: 10px;
  background: #fff;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.switch-type-btn:active { transform: scale(0.95); }
.switch-type-btn.active { border-color: #455a64; background: #eceff1; }
.switch-type-btn .icon { font-size: 24px; }
.switch-type-btn .name { font-size: 10px; font-weight: 600; color: #333; margin-top: 4px; }

.state-display {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.state-card {
  flex: 1;
  padding: 15px;
  border-radius: 10px;
  text-align: center;
  transition: all 0.3s ease;
}

.state-card.off {
  background: #ffebee;
  border: 2px solid #ef9a9a;
}

.state-card.on {
  background: #e8f5e9;
  border: 2px solid #a5d6a7;
}

.state-card.active.off { border-color: #f44336; }
.state-card.active.on { border-color: #4caf50; }

.state-card .icon { font-size: 28px; }
.state-card .label { font-size: 12px; font-weight: 600; margin-top: 4px; }
.state-card.off .label { color: #c62828; }
.state-card.on .label { color: #2e7d32; }
.state-card .desc { font-size: 9px; color: #666; margin-top: 4px; }

.learning-panel {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 3px solid #1976d2;
}

.learning-title {
  font-size: 12px;
  font-weight: 700;
  color: #1565c0;
  margin-bottom: 6px;
}

.learning-text {
  font-size: 11px;
  color: #37474f;
  line-height: 1.6;
}

.diy-section {
  background: #fff3e0;
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 3px solid #ff9800;
}

.diy-title {
  font-size: 11px;
  font-weight: 700;
  color: #e65100;
  margin-bottom: 6px;
}

.diy-text {
  font-size: 10px;
  color: #5d4037;
  line-height: 1.6;
}

.takeaway {
  background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 4px solid #2e7d32;
}

.takeaway-title { font-size: 12px; font-weight: 700; color: #1b5e20; margin-bottom: 6px; }
.takeaway-text { font-size: 11px; color: #37474f; line-height: 1.5; }

@keyframes flow {
  0% { stroke-dashoffset: 20; }
  100% { stroke-dashoffset: 0; }
}

.current-flow { stroke-dasharray: 5 5; animation: flow 0.3s linear infinite; }

@keyframes glow {
  0%, 100% { filter: drop-shadow(0 0 5px rgba(255,235,59,0.8)); }
  50% { filter: drop-shadow(0 0 15px rgba(255,235,59,1)); }
}

.bulb-glow { animation: glow 1s ease-in-out infinite; }

@keyframes click {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(0.95); }
}

.switch-click { animation: click 0.2s ease; }
</style>
</head>

<body>
<div id="app">

<div class="header">
  <h1>üîò Electric Switch</h1>
  <p>Understanding how switches control circuits</p>
</div>

<div class="concept-card">
  <div class="concept-title">üìö Key Concept</div>
  <div class="concept-text">
    A switch is a device that <strong>completes or breaks</strong> an electrical circuit. In <strong>ON position</strong>, it closes the gap allowing current to flow. In <strong>OFF position</strong>, it creates a gap that stops current flow.
  </div>
</div>

<div class="sim-card">
  <div class="visual">
    <div class="tap-hint">üëÜ Tap the switch to toggle ON/OFF</div>
    <svg viewBox="0 0 400 280" id="circuit-svg">
      <!-- Circuit wires -->
      <path id="wire-top" d="M 80 100 L 200 100" stroke="#4caf50" stroke-width="4"/>
      <path id="wire-right" d="M 280 100 L 320 100 L 320 180 L 280 180" stroke="#e0e0e0" stroke-width="4"/>
      <path id="wire-bottom" d="M 200 180 L 80 180 L 80 100" stroke="#4caf50" stroke-width="4"/>
      
      <!-- Cell -->
      <g transform="translate(50, 115)">
        <rect x="0" y="0" width="60" height="50" rx="5" fill="#1565c0"/>
        <rect x="-8" y="15" width="12" height="20" rx="2" fill="#757575"/>
        <rect x="54" y="12" width="12" height="26" rx="2" fill="#ffd600"/>
        <text x="30" y="32" font-size="10" fill="#fff" text-anchor="middle" font-weight="600">1.5V</text>
      </g>
      
      <!-- Switch (interactive) -->
      <g id="switch-group" transform="translate(180, 85)" style="cursor:pointer" onclick="toggleSwitch()">
        <!-- Switch base -->
        <rect x="0" y="10" width="100" height="10" rx="3" fill="#455a64"/>
        
        <!-- Contact points -->
        <circle cx="20" cy="15" r="8" fill="#9e9e9e" stroke="#666" stroke-width="2"/>
        <circle cx="80" cy="15" r="8" fill="#9e9e9e" stroke="#666" stroke-width="2"/>
        
        <!-- Switch lever -->
        <g id="switch-lever">
          <line x1="20" y1="15" x2="60" y2="-5" stroke="#78909c" stroke-width="6" stroke-linecap="round" id="lever-line"/>
          <circle cx="60" cy="-5" r="6" fill="#b0bec5" id="lever-knob"/>
        </g>
        
        <!-- Label -->
        <text x="50" y="45" font-size="10" fill="#fff" text-anchor="middle" id="switch-label">TAP TO CLOSE</text>
      </g>
      
      <!-- Bulb -->
      <g transform="translate(260, 110)">
        <circle cx="30" cy="35" r="28" fill="#e0e0e0" id="bulb-glass"/>
        <circle cx="30" cy="35" r="15" fill="#bdbdbd" id="bulb-filament"/>
        <rect x="20" y="60" width="20" height="15" rx="2" fill="#666"/>
        <text x="30" y="95" font-size="9" fill="#fff" text-anchor="middle">Bulb</text>
      </g>
      
      <!-- Current flow indicators -->
      <g id="current-indicators" style="display:none">
        <circle cx="100" cy="100" r="4" fill="#ffeb3b"/>
        <circle cx="320" cy="140" r="4" fill="#ffeb3b"/>
        <circle cx="100" cy="180" r="4" fill="#ffeb3b"/>
      </g>
      
      <!-- State label -->
      <rect x="140" y="220" width="120" height="35" rx="8" fill="#fff" id="state-bg"/>
      <text x="200" y="243" font-size="14" text-anchor="middle" font-weight="700" id="state-text">OFF</text>
    </svg>
  </div>
  
  <div class="switch-types">
    <button class="switch-type-btn active" onclick="setSwitchType('lever')">
      <div class="icon">üîò</div>
      <div class="name">Lever Switch</div>
    </button>
    <button class="switch-type-btn" onclick="setSwitchType('push')">
      <div class="icon">üî¥</div>
      <div class="name">Push Button</div>
    </button>
    <button class="switch-type-btn" onclick="setSwitchType('toggle')">
      <div class="icon">üìç</div>
      <div class="name">Toggle Switch</div>
    </button>
  </div>
</div>

<div class="state-display">
  <div class="state-card off active" id="state-off">
    <div class="icon">üîì</div>
    <div class="label">OFF (Open)</div>
    <div class="desc">Gap in circuit<br>No current flows</div>
  </div>
  <div class="state-card on" id="state-on">
    <div class="icon">üîí</div>
    <div class="label">ON (Closed)</div>
    <div class="desc">Circuit complete<br>Current flows</div>
  </div>
</div>

<div class="learning-panel">
  <div class="learning-title">üî¨ How a Switch Works</div>
  <div class="learning-text" id="learning-text">
    The switch acts like a <strong>gate</strong> for electricity:<br><br>
    ‚Ä¢ <strong>OFF (Open)</strong>: The lever doesn't touch both contacts, creating a gap. Current cannot jump across the gap, so it stops flowing.<br><br>
    ‚Ä¢ <strong>ON (Closed)</strong>: The lever connects both contacts, completing the path. Current can now flow through the circuit.<br><br>
    <em>Tap the switch in the circuit above to see this in action!</em>
  </div>
</div>

<div class="diy-section">
  <div class="diy-title">üîß Make Your Own Switch!</div>
  <div class="diy-text">
    You can make a simple switch using:<br>
    ‚Ä¢ A safety pin attached to a cardboard base<br>
    ‚Ä¢ Two drawing pins as contact points<br>
    ‚Ä¢ When the safety pin touches both drawing pins, the circuit closes!<br><br>
    <strong>Safety:</strong> Only use with battery circuits, never with mains electricity!
  </div>
</div>

<div class="takeaway">
  <div class="takeaway-title">üéØ What You Learned</div>
  <div class="takeaway-text">
    A switch controls the flow of current by completing (ON) or breaking (OFF) the circuit. When ON, it closes the gap and allows current to flow. When OFF, it creates a gap that stops the current. This simple principle is used in all electrical devices!
  </div>
</div>

</div>

<script>
let isOn = false;
let currentType = 'lever';

const leverLine = document.getElementById('lever-line');
const leverKnob = document.getElementById('lever-knob');
const switchLabel = document.getElementById('switch-label');
const bulbGlass = document.getElementById('bulb-glass');
const bulbFilament = document.getElementById('bulb-filament');
const wireRight = document.getElementById('wire-right');
const stateText = document.getElementById('state-text');
const stateBg = document.getElementById('state-bg');
const stateOff = document.getElementById('state-off');
const stateOn = document.getElementById('state-on');
const currentIndicators = document.getElementById('current-indicators');
const learningText = document.getElementById('learning-text');
const switchGroup = document.getElementById('switch-group');

function toggleSwitch() {
  isOn = !isOn;
  switchGroup.classList.add('switch-click');
  setTimeout(() => switchGroup.classList.remove('switch-click'), 200);
  
  if (isOn) {
    // Close switch
    leverLine.setAttribute('x2', '80');
    leverLine.setAttribute('y2', '15');
    leverKnob.setAttribute('cx', '80');
    leverKnob.setAttribute('cy', '15');
    switchLabel.textContent = 'TAP TO OPEN';
    
    // Complete circuit
    wireRight.setAttribute('stroke', '#4caf50');
    wireRight.classList.add('current-flow');
    document.getElementById('wire-top').classList.add('current-flow');
    document.getElementById('wire-bottom').classList.add('current-flow');
    
    // Light bulb
    bulbGlass.setAttribute('fill', '#ffeb3b');
    bulbFilament.setAttribute('fill', '#fff');
    bulbGlass.classList.add('bulb-glow');
    
    // Update state
    stateText.textContent = 'ON';
    stateText.setAttribute('fill', '#2e7d32');
    stateBg.setAttribute('fill', '#e8f5e9');
    stateOff.classList.remove('active');
    stateOn.classList.add('active');
    
    // Show current
    currentIndicators.style.display = 'block';
    
    learningText.innerHTML = `
      <strong style="color:#2e7d32">‚úÖ Switch is CLOSED (ON)</strong><br><br>
      The lever now connects both contact points, completing the circuit path.<br><br>
      Current flows: <strong>Cell (+) ‚Üí Wire ‚Üí Switch (closed) ‚Üí Bulb ‚Üí Wire ‚Üí Cell (‚àí)</strong><br><br>
      The bulb glows because there's no gap - electricity can flow in a complete loop!
    `;
  } else {
    // Open switch
    leverLine.setAttribute('x2', '60');
    leverLine.setAttribute('y2', '-5');
    leverKnob.setAttribute('cx', '60');
    leverKnob.setAttribute('cy', '-5');
    switchLabel.textContent = 'TAP TO CLOSE';
    
    // Break circuit
    wireRight.setAttribute('stroke', '#e0e0e0');
    wireRight.classList.remove('current-flow');
    document.getElementById('wire-top').classList.remove('current-flow');
    document.getElementById('wire-bottom').classList.remove('current-flow');
    
    // Turn off bulb
    bulbGlass.setAttribute('fill', '#e0e0e0');
    bulbFilament.setAttribute('fill', '#bdbdbd');
    bulbGlass.classList.remove('bulb-glow');
    
    // Update state
    stateText.textContent = 'OFF';
    stateText.setAttribute('fill', '#c62828');
    stateBg.setAttribute('fill', '#ffebee');
    stateOn.classList.remove('active');
    stateOff.classList.add('active');
    
    // Hide current
    currentIndicators.style.display = 'none';
    
    learningText.innerHTML = `
      <strong style="color:#c62828">‚ùå Switch is OPEN (OFF)</strong><br><br>
      The lever is lifted, creating a <strong>gap</strong> between the contact points.<br><br>
      Current cannot jump across the gap - it stops at the switch.<br><br>
      No complete path = No current flow = Bulb stays off!<br><br>
      <em>Tap the switch again to close it and complete the circuit.</em>
    `;
  }
}

function setSwitchType(type) {
  currentType = type;
  document.querySelectorAll('.switch-type-btn').forEach(btn => btn.classList.remove('active'));
  event.currentTarget.classList.add('active');
  
  // Could show different switch visuals here
  // For simplicity, we'll just update the info
}
</script>
</body>
</html>
