<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Turmeric as an Indicator ‚Äì Natural Acid-Base Test</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(135deg, #f9a825 0%, #ff8f00 100%);
  min-height: 100vh;
}

#app {
  max-width: 420px;
  margin: auto;
  padding: 10px;
}

.header {
  text-align: center;
  color: #fff;
  padding: 12px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.header h1 {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 4px;
}

.header p {
  font-size: 12px;
  opacity: 0.95;
}

.section-title {
  font-size: 13px;
  font-weight: 600;
  margin: 8px 4px;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* ---------- Card ---------- */
.sim-card {
  background: #fff;
  border-radius: 14px;
  padding: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 12px;
}

/* ---------- Visual ---------- */
.visual {
  position: relative;
  height: 34vh;
  min-height: 250px;
  background: linear-gradient(145deg, #fffde7 0%, #fff8e1 100%);
  border-radius: 12px;
  overflow: hidden;
  touch-action: none;
}

svg { width: 100%; height: 100%; }

.static-hint {
  position: absolute;
  top: 8px;
  left: 8px;
  background: rgba(255,255,255,0.95);
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 11px;
  line-height: 1.3;
  box-shadow: 0 3px 8px rgba(0,0,0,0.12);
  z-index: 10;
}

.metrics {
  position: absolute;
  left: 8px;
  bottom: 8px;
  background: rgba(255,255,255,0.96);
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 11px;
  line-height: 1.5;
  box-shadow: 0 3px 8px rgba(0,0,0,0.12);
}

.metric-value {
  font-weight: 600;
  color: #007AFF;
}

.metric-value.basic { color: #d32f2f; }
.metric-value.acidic-neutral { color: #f9a825; }

.control-toggle {
  position: absolute;
  right: 8px;
  top: 8px;
  background: #ff8f00;
  color: #fff;
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

/* ---------- Controls Overlay ---------- */
.control-overlay {
  position: absolute;
  left: 0; right: 0; bottom: 0;
  background: rgba(255,255,255,0.97);
  border-top: 1px solid #ffe082;
  padding: 10px;
  transform: translateY(100%);
  transition: transform .25s ease;
  max-height: 55%;
  overflow-y: auto;
}

.control-overlay.open { transform: translateY(0); }

.control-label {
  font-size: 11px;
  font-weight: 600;
  color: #666;
  margin-bottom: 6px;
}

.solution-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
  margin-bottom: 10px;
}

.solution-btn {
  padding: 8px 4px;
  border-radius: 8px;
  border: 2px solid #fff3e0;
  font-size: 9px;
  background: #fff;
  cursor: pointer;
  text-align: center;
  line-height: 1.3;
}

.solution-btn.active {
  border-color: #ff8f00;
  background: #fff3e0;
}

.solution-btn .icon { font-size: 18px; display: block; margin-bottom: 2px; }

.submit-btn {
  width: 100%;
  margin-top: 8px;
  padding: 10px;
  border-radius: 8px;
  border: none;
  background: #ff8f00;
  color: white;
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
}

/* ---------- Test Button ---------- */
.test-btn {
  position: absolute;
  right: 8px;
  bottom: 8px;
  background: linear-gradient(135deg, #ff8f00 0%, #ffa726 100%);
  color: white;
  font-size: 12px;
  font-weight: 600;
  padding: 10px 16px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255,143,0,0.3);
}

.test-btn:active {
  transform: scale(0.95);
}

/* ---------- Legend ---------- */
.legend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  padding: 10px;
  background: #fff;
  border-radius: 10px;
  margin-top: 10px;
  font-size: 10px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.legend-color {
  width: 20px;
  height: 12px;
  border-radius: 3px;
}

.legend-color.original { background: #f9a825; }
.legend-color.basic { background: #d32f2f; }
.legend-color.unchanged { background: #fdd835; }

/* ---------- Key Insight ---------- */
.insight-box {
  background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
  border-radius: 10px;
  padding: 10px;
  margin-top: 10px;
  font-size: 11px;
  line-height: 1.5;
  border-left: 4px solid #f9a825;
}

.insight-title {
  font-weight: 600;
  color: #e65100;
  margin-bottom: 4px;
}

/* ---------- Real-world example ---------- */
.real-world {
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  margin-top: 10px;
  font-size: 11px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.real-world .icon { font-size: 36px; }
.real-world .text { flex: 1; line-height: 1.4; }
.real-world .highlight { color: #d32f2f; font-weight: 600; }

/* ---------- Takeaway ---------- */
.takeaway {
  background: linear-gradient(135deg, #ffe0b2 0%, #ffcc80 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  font-size: 12px;
  line-height: 1.5;
  display: none;
}

.takeaway.show {
  display: block;
}

.takeaway-title {
  font-weight: 600;
  color: #e65100;
  margin-bottom: 4px;
}

/* Preparation info */
.prep-info {
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  margin-top: 10px;
  font-size: 11px;
}

.prep-title {
  font-weight: 600;
  color: #e65100;
  margin-bottom: 6px;
}

.prep-steps {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding-bottom: 4px;
}

.prep-step {
  flex-shrink: 0;
  text-align: center;
  width: 65px;
}

.prep-step .icon { font-size: 22px; }
.prep-step .text { font-size: 9px; color: #666; }
</style>
</head>

<body>
<div id="app">

<div class="header">
  <h1>üü° Turmeric as an Indicator</h1>
  <p>The golden spice that detects bases!</p>
</div>

<div class="section-title">Reference (Original turmeric paper)</div>
<div class="sim-card" id="ref"></div>

<div class="section-title">Experiment (Test different solutions)</div>
<div class="sim-card" id="exp"></div>

<div class="legend">
  <div class="legend-item"><div class="legend-color original"></div> Original (Yellow)</div>
  <div class="legend-item"><div class="legend-color basic"></div> Basic ‚Üí Red/Brown</div>
  <div class="legend-item"><div class="legend-color unchanged"></div> Acidic/Neutral ‚Üí Yellow (no change)</div>
</div>

<div class="insight-box">
  <div class="insight-title">üîë Key Insight:</div>
  Turmeric can identify <strong>basic substances</strong> (turns red/brown), but it <strong>cannot differentiate</strong> between acidic and neutral substances (both remain yellow). So it's a partial indicator!
</div>

<div class="real-world">
  <div class="icon">üëï</div>
  <div class="text">
    <strong>Real-life observation:</strong> Ever noticed a <span class="highlight">curry stain turning red</span> when you apply soap? That's because soap is basic and turmeric in the curry changes color!
  </div>
</div>

<div class="prep-info">
  <div class="prep-title">üß™ How to prepare turmeric paper:</div>
  <div class="prep-steps">
    <div class="prep-step"><div class="icon">üü°</div><div class="text">Take turmeric powder</div></div>
    <div class="prep-step"><div class="icon">üíß</div><div class="text">Add water to make paste</div></div>
    <div class="prep-step"><div class="icon">üìÑ</div><div class="text">Dip filter paper</div></div>
    <div class="prep-step"><div class="icon">‚òÄÔ∏è</div><div class="text">Let it dry</div></div>
    <div class="prep-step"><div class="icon">‚úÇÔ∏è</div><div class="text">Cut into strips</div></div>
  </div>
</div>

<div class="takeaway" id="takeaway">
  <div class="takeaway-title">üí° What you discovered:</div>
  Turmeric paper turns <span style="color:#c62828;font-weight:600">RED/BROWN</span> in basic solutions but stays <span style="color:#f9a825;font-weight:600">YELLOW</span> in acidic and neutral solutions. Unlike litmus (which tests both), turmeric only detects bases ‚Äì making it a <strong>partial indicator</strong>!
</div>

</div>

<script>
const SOLUTIONS = {
  'lemon': { name: 'Lemon Juice', icon: 'üçã', type: 'acidic', resultColor: '#fdd835', colorName: 'Yellow (unchanged)', changes: false },
  'vinegar': { name: 'Vinegar', icon: 'üç∂', type: 'acidic', resultColor: '#f9a825', colorName: 'Yellow (unchanged)', changes: false },
  'amla': { name: 'Amla Juice', icon: 'ü´í', type: 'acidic', resultColor: '#fbc02d', colorName: 'Yellow (unchanged)', changes: false },
  'soap': { name: 'Soap Solution', icon: 'üßº', type: 'basic', resultColor: '#c62828', colorName: 'Red/Brown', changes: true },
  'baking': { name: 'Baking Soda', icon: 'ü•Ñ', type: 'basic', resultColor: '#d32f2f', colorName: 'Red', changes: true },
  'lime': { name: 'Lime Water', icon: 'üíß', type: 'basic', resultColor: '#b71c1c', colorName: 'Dark Red', changes: true },
  'water': { name: 'Tap Water', icon: 'üö∞', type: 'neutral', resultColor: '#fdd835', colorName: 'Yellow (unchanged)', changes: false },
  'sugar': { name: 'Sugar Solution', icon: 'üç¨', type: 'neutral', resultColor: '#ffeb3b', colorName: 'Yellow (unchanged)', changes: false },
  'salt': { name: 'Salt Solution', icon: 'üßÇ', type: 'neutral', resultColor: '#fdd835', colorName: 'Yellow (unchanged)', changes: false }
};

function createSimulation(containerId, isExperiment) {
  const c = document.getElementById(containerId);
  const defaultSolution = isExperiment ? 'soap' : 'water';
  
  c.innerHTML = `
  <div class="visual">
    <div class="static-hint">
      ${isExperiment ? 'üëÜ Select solution & tap "Drop"' : 'üìÑ Original yellow turmeric paper'}
    </div>

    ${isExperiment ? '<button class="control-toggle">Adjust</button>' : ''}

    <svg viewBox="0 0 400 280">
      <!-- Background - White tile -->
      <rect x="50" y="120" width="300" height="130" rx="6" fill="#eceff1" stroke="#cfd8dc" stroke-width="2"/>
      <text x="200" y="265" text-anchor="middle" font-size="10" fill="#90a4ae">White Tile</text>
      
      <!-- Multiple turmeric paper strips -->
      <g id="${containerId}-papers">
        <!-- Paper strip 1 -->
        <rect x="80" y="140" width="50" height="80" rx="2" fill="#f9a825" id="${containerId}-paper1" stroke="#fbc02d" stroke-width="1"/>
        <circle cx="105" cy="170" r="8" fill="transparent" stroke="#fff" stroke-width="2" stroke-dasharray="3 2"/>
        <text x="105" y="235" text-anchor="middle" font-size="8" fill="#666" id="${containerId}-label1">Sample 1</text>
        
        <!-- Paper strip 2 -->
        <rect x="175" y="140" width="50" height="80" rx="2" fill="#f9a825" id="${containerId}-paper2" stroke="#fbc02d" stroke-width="1"/>
        <circle cx="200" cy="170" r="8" fill="transparent" stroke="#fff" stroke-width="2" stroke-dasharray="3 2"/>
        <text x="200" y="235" text-anchor="middle" font-size="8" fill="#666" id="${containerId}-label2">Sample 2</text>
        
        <!-- Paper strip 3 -->
        <rect x="270" y="140" width="50" height="80" rx="2" fill="#f9a825" id="${containerId}-paper3" stroke="#fbc02d" stroke-width="1"/>
        <circle cx="295" cy="170" r="8" fill="transparent" stroke="#fff" stroke-width="2" stroke-dasharray="3 2"/>
        <text x="295" y="235" text-anchor="middle" font-size="8" fill="#666" id="${containerId}-label3">Sample 3</text>
      </g>
      
      <!-- Dropper -->
      <g id="${containerId}-dropper" transform="translate(200, 30)" opacity="${isExperiment ? 1 : 0.3}">
        <rect x="-10" y="0" width="20" height="35" rx="3" fill="#ffb74d"/>
        <ellipse cx="0" cy="0" rx="14" ry="10" fill="#ef6c00"/>
        <rect x="-5" y="35" width="10" height="25" fill="#90a4ae"/>
        <circle cx="0" cy="65" r="5" fill="#64b5f6" id="${containerId}-drop" opacity="0"/>
        <text x="0" y="-15" text-anchor="middle" font-size="12" id="${containerId}-dropper-icon">${isExperiment ? SOLUTIONS[defaultSolution].icon : ''}</text>
      </g>
      
      <!-- Turmeric powder icon -->
      <g transform="translate(20, 40)">
        <text x="0" y="0" font-size="30">üü°</text>
        <text x="15" y="40" font-size="8" fill="#888">Turmeric</text>
      </g>
      
      <!-- Result indicator arrow -->
      <g id="${containerId}-result-arrow" opacity="0" transform="translate(200, 100)">
        <polygon points="0,0 -8,15 8,15" fill="#4caf50"/>
        <text x="0" y="-5" text-anchor="middle" font-size="10" fill="#4caf50" font-weight="600" id="${containerId}-result-text">‚úì</text>
      </g>
    </svg>

    <div class="metrics">
      Solution: <span class="metric-value" id="${containerId}-solution-name">${isExperiment ? SOLUTIONS[defaultSolution].name : 'None (original)'}</span><br>
      Paper Color: <span class="metric-value ${isExperiment ? '' : 'acidic-neutral'}" id="${containerId}-color-status">Yellow</span><br>
      Changes: <span class="metric-value" id="${containerId}-changes">${isExperiment ? '?' : 'No'}</span><br>
      Detected: <span class="metric-value" id="${containerId}-detected">${isExperiment ? '?' : '‚Äî'}</span>
    </div>

    ${isExperiment ? '<button class="test-btn" id="test-action">üíß Drop</button>' : ''}

    ${isExperiment ? `
    <div class="control-overlay">
      <div class="control-label">Select a solution to test:</div>
      <div class="solution-grid">
        <button class="solution-btn" data-solution="lemon"><span class="icon">üçã</span>Lemon</button>
        <button class="solution-btn" data-solution="vinegar"><span class="icon">üç∂</span>Vinegar</button>
        <button class="solution-btn" data-solution="amla"><span class="icon">ü´í</span>Amla</button>
        <button class="solution-btn active" data-solution="soap"><span class="icon">üßº</span>Soap</button>
        <button class="solution-btn" data-solution="baking"><span class="icon">ü•Ñ</span>Baking Soda</button>
        <button class="solution-btn" data-solution="lime"><span class="icon">üíß</span>Lime Water</button>
        <button class="solution-btn" data-solution="water"><span class="icon">üö∞</span>Tap Water</button>
        <button class="solution-btn" data-solution="sugar"><span class="icon">üç¨</span>Sugar</button>
        <button class="solution-btn" data-solution="salt"><span class="icon">üßÇ</span>Salt</button>
      </div>
      <button class="submit-btn">Submit</button>
    </div>
    ` : ''}
  </div>`;

  if (!isExperiment) return;

  // State
  let state = {
    solution: 'soap',
    tested: false,
    currentPaper: 1
  };

  const paper1 = c.querySelector(`#${containerId}-paper1`);
  const paper2 = c.querySelector(`#${containerId}-paper2`);
  const paper3 = c.querySelector(`#${containerId}-paper3`);
  const label1 = c.querySelector(`#${containerId}-label1`);
  const label2 = c.querySelector(`#${containerId}-label2`);
  const label3 = c.querySelector(`#${containerId}-label3`);
  const drop = c.querySelector(`#${containerId}-drop`);
  const dropper = c.querySelector(`#${containerId}-dropper`);
  const dropperIcon = c.querySelector(`#${containerId}-dropper-icon`);
  const solutionName = c.querySelector(`#${containerId}-solution-name`);
  const colorStatus = c.querySelector(`#${containerId}-color-status`);
  const changesDisplay = c.querySelector(`#${containerId}-changes`);
  const detectedDisplay = c.querySelector(`#${containerId}-detected`);
  const resultArrow = c.querySelector(`#${containerId}-result-arrow`);
  const resultText = c.querySelector(`#${containerId}-result-text`);
  const overlay = c.querySelector('.control-overlay');
  const testBtn = c.querySelector('#test-action');

  const papers = [paper1, paper2, paper3];
  const labels = [label1, label2, label3];
  const positions = [105, 200, 295];

  function updateDisplay() {
    const sol = SOLUTIONS[state.solution];
    dropperIcon.textContent = sol.icon;
    solutionName.textContent = sol.name;
  }

  function animateDrop(callback) {
    const sol = SOLUTIONS[state.solution];
    const targetX = positions[state.currentPaper - 1];
    
    // Move dropper to current paper
    dropper.style.transition = 'transform 0.3s ease';
    dropper.setAttribute('transform', `translate(${targetX}, 30)`);
    
    setTimeout(() => {
      drop.style.fill = sol.resultColor;
      drop.style.transition = 'none';
      drop.setAttribute('opacity', '1');
      drop.setAttribute('cy', '65');
      
      setTimeout(() => {
        drop.style.transition = 'cy 0.4s ease-in, opacity 0.3s';
        drop.setAttribute('cy', '110');
        
        setTimeout(() => {
          drop.setAttribute('opacity', '0');
          callback();
        }, 400);
      }, 100);
    }, 300);
  }

  function runTest() {
    const sol = SOLUTIONS[state.solution];
    state.tested = true;

    animateDrop(() => {
      const currentPaper = papers[state.currentPaper - 1];
      const currentLabel = labels[state.currentPaper - 1];
      
      // Change paper color
      currentPaper.style.transition = 'fill 0.5s ease';
      currentPaper.style.fill = sol.resultColor;
      
      // Update label
      currentLabel.textContent = sol.name;

      // Update metrics
      colorStatus.textContent = sol.colorName;
      colorStatus.className = `metric-value ${sol.changes ? 'basic' : 'acidic-neutral'}`;
      
      changesDisplay.textContent = sol.changes ? 'Yes ‚úì' : 'No';
      changesDisplay.className = `metric-value ${sol.changes ? 'basic' : ''}`;
      
      if (sol.changes) {
        detectedDisplay.textContent = 'Basic ‚úì';
        detectedDisplay.className = 'metric-value basic';
      } else {
        detectedDisplay.textContent = 'Acidic or Neutral';
        detectedDisplay.className = 'metric-value acidic-neutral';
      }

      // Show result arrow
      resultArrow.style.transition = 'opacity 0.3s';
      resultArrow.style.opacity = '1';
      resultArrow.setAttribute('transform', `translate(${positions[state.currentPaper - 1]}, 100)`);
      resultText.textContent = sol.changes ? '‚úì Basic' : '‚Äî No change';
      resultText.style.fill = sol.changes ? '#4caf50' : '#9e9e9e';

      // Move to next paper for next test
      state.currentPaper = (state.currentPaper % 3) + 1;

      // Show takeaway
      document.getElementById('takeaway').classList.add('show');
    });
  }

  function resetTest() {
    state.tested = false;
    state.currentPaper = 1;
    
    papers.forEach((p, i) => {
      p.style.fill = '#f9a825';
      labels[i].textContent = `Sample ${i + 1}`;
    });
    
    dropper.setAttribute('transform', 'translate(200, 30)');
    colorStatus.textContent = 'Yellow';
    colorStatus.className = 'metric-value';
    changesDisplay.textContent = '?';
    changesDisplay.className = 'metric-value';
    detectedDisplay.textContent = '?';
    detectedDisplay.className = 'metric-value';
    resultArrow.style.opacity = '0';
  }

  // Event Listeners
  testBtn.onclick = runTest;

  c.querySelector('.control-toggle').onclick = () => {
    overlay.classList.toggle('open');
  };

  c.querySelectorAll('.solution-btn').forEach(btn => {
    btn.onclick = () => {
      c.querySelectorAll('.solution-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      state.solution = btn.dataset.solution;
      updateDisplay();
    };
  });

  c.querySelector('.submit-btn').onclick = () => {
    overlay.classList.remove('open');
    resetTest();
  };

  updateDisplay();
}

createSimulation('ref', false);
createSimulation('exp', true);
</script>
</body>
</html>
