<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#e65100">
<title>Metal + Oxygen ‚Äì Basic Oxide</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #e65100 0%, #ff9800 100%);
  min-height: 100vh;
  min-height: -webkit-fill-available;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  -webkit-font-smoothing: antialiased;
}

#app {
  max-width: 420px;
  margin: auto;
  padding: 10px;
  padding-top: max(10px, env(safe-area-inset-top));
  padding-bottom: max(10px, env(safe-area-inset-bottom));
}

.header {
  text-align: center;
  color: #fff;
  padding: 12px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.header h1 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
.header p { font-size: 12px; opacity: 0.95; }

.concept-card {
  background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 10px;
  border-left: 4px solid #f9a825;
}

.concept-title {
  font-size: 12px;
  font-weight: 700;
  color: #f57f17;
  margin-bottom: 6px;
}

.concept-text {
  font-size: 12px;
  color: #5d4037;
  line-height: 1.5;
}

.sim-card {
  background: #fff;
  border-radius: 14px;
  padding: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 10px;
}

.visual {
  position: relative;
  height: 40vh;
  min-height: 280px;
  background: linear-gradient(180deg, #263238 0%, #37474f 100%);
  border-radius: 12px;
  overflow: hidden;
}

svg { width: 100%; height: 100%; }

.step-indicator {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
}

.controls {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.ctrl-btn {
  flex: 1;
  padding: 14px 8px;
  border: none;
  border-radius: 10px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ctrl-btn:active { transform: scale(0.98); }
.ctrl-btn:disabled { background: #ccc !important; color: #888; }

.ctrl-btn.burn {
  background: linear-gradient(135deg, #ff5722 0%, #ff7043 100%);
  color: white;
}

.ctrl-btn.dissolve {
  background: linear-gradient(135deg, #2196f3 0%, #64b5f6 100%);
  color: white;
}

.ctrl-btn.test {
  background: linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%);
  color: white;
}

.equation-box {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  border-radius: 10px;
  padding: 12px;
  text-align: center;
  margin-top: 10px;
  border-left: 4px solid #e65100;
}

.equation-title {
  font-size: 11px;
  font-weight: 600;
  color: #e65100;
  margin-bottom: 8px;
}

.equation {
  font-size: 14px;
  font-weight: 700;
  color: #37474f;
  font-family: 'Times New Roman', serif;
}

.equation-explain {
  font-size: 10px;
  color: #666;
  margin-top: 6px;
}

.litmus-result {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.litmus-card {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  border: 2px solid #e0e0e0;
}

.litmus-card .label { font-size: 10px; font-weight: 600; margin-bottom: 4px; }
.litmus-card .strip {
  width: 30px;
  height: 60px;
  margin: 8px auto;
  border-radius: 4px;
  transition: background 0.5s ease;
}

.litmus-card .status { font-size: 9px; color: #666; }

.learning-panel {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 3px solid #e65100;
}

.learning-title {
  font-size: 12px;
  font-weight: 700;
  color: #e65100;
  margin-bottom: 6px;
}

.learning-text {
  font-size: 11px;
  color: #37474f;
  line-height: 1.6;
}

.takeaway {
  background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
  border-radius: 10px;
  padding: 12px;
  margin-top: 10px;
  border-left: 4px solid #2e7d32;
}

.takeaway-title { font-size: 12px; font-weight: 700; color: #1b5e20; margin-bottom: 6px; }
.takeaway-text { font-size: 11px; color: #37474f; line-height: 1.5; }

@keyframes burn {
  0%, 100% { fill: #bdbdbd; }
  50% { fill: #fff; filter: drop-shadow(0 0 10px #fff); }
}

.burning { animation: burn 0.3s ease-in-out infinite; }

@keyframes flame {
  0%, 100% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.2); opacity: 1; }
}

.flame { animation: flame 0.2s ease-in-out infinite; }

</style>
</head>

<body>
<div id="app">

<div class="header">
  <h1>üî• Metal + Oxygen Reaction</h1>
  <p>Burning magnesium to form a basic oxide</p>
</div>

<div class="concept-card">
  <div class="concept-title">üìö Key Concept</div>
  <div class="concept-text">
    When <strong>metals react with oxygen</strong>, they form <strong>metal oxides</strong> which are <strong>basic</strong> in nature. They turn red litmus paper blue.
  </div>
</div>

<div class="sim-card">
  <div class="visual">
    <div class="step-indicator" id="step-indicator">Step 1: Hold Mg ribbon in flame</div>
    <svg viewBox="0 0 400 280" id="scene">
      <!-- Bunsen burner -->
      <g transform="translate(100, 180)">
        <rect x="20" y="0" width="60" height="80" rx="5" fill="#455a64"/>
        <rect x="35" y="80" width="30" height="20" rx="3" fill="#37474f"/>
        <rect x="0" y="100" width="100" height="10" rx="2" fill="#263238"/>
        
        <!-- Flame -->
        <g id="flame" style="display:none">
          <ellipse cx="50" cy="-20" rx="15" ry="30" fill="#ff9800"/>
          <ellipse cx="50" cy="-15" rx="10" ry="20" fill="#ffeb3b"/>
          <ellipse cx="50" cy="-10" rx="5" ry="12" fill="#fff"/>
        </g>
      </g>
      
      <!-- Tongs holding magnesium -->
      <g id="tongs" transform="translate(200, 100)">
        <line x1="0" y1="0" x2="60" y2="80" stroke="#616161" stroke-width="6" stroke-linecap="round"/>
        <line x1="20" y1="0" x2="60" y2="80" stroke="#616161" stroke-width="6" stroke-linecap="round"/>
        
        <!-- Magnesium ribbon -->
        <g id="mg-ribbon">
          <rect x="-5" y="-5" width="30" height="8" rx="2" fill="#e0e0e0" id="mg-piece"/>
          <text x="10" y="25" font-size="10" fill="#90a4ae" text-anchor="middle">Mg</text>
        </g>
      </g>
      
      <!-- Bright light from burning -->
      <circle id="bright-light" cx="205" cy="95" r="40" fill="#fff" opacity="0" style="display:none"/>
      
      <!-- MgO ash -->
      <g id="mgo-ash" style="display:none" transform="translate(200, 95)">
        <ellipse cx="0" cy="0" rx="15" ry="8" fill="#fafafa"/>
        <text x="0" y="25" font-size="10" fill="#90a4ae" text-anchor="middle">MgO (ash)</text>
      </g>
      
      <!-- Water beaker -->
      <g id="beaker" transform="translate(280, 150)" style="opacity:0.3">
        <rect x="0" y="0" width="80" height="100" rx="5" fill="none" stroke="#64b5f6" stroke-width="3"/>
        <rect x="5" y="30" width="70" height="65" rx="3" fill="#bbdefb" opacity="0.5"/>
        <text x="40" y="120" font-size="9" fill="#64b5f6" text-anchor="middle">Water</text>
      </g>
      
      <!-- Litmus papers in beaker -->
      <g id="litmus-in-beaker" style="display:none" transform="translate(290, 160)">
        <rect x="10" y="20" width="10" height="40" fill="#f44336" id="red-litmus-svg"/>
        <rect x="40" y="20" width="10" height="40" fill="#2196f3" id="blue-litmus-svg"/>
      </g>
      
      <!-- Labels -->
      <text x="150" y="275" font-size="10" fill="#90a4ae" text-anchor="middle">Bunsen Burner</text>
    </svg>
  </div>
  
  <div id="instruction" style="text-align: center; font-size: 12px; color: #666; padding: 8px; margin-top: 5px;">
    Tap "Burn" to ignite the magnesium ribbon
  </div>
  <div class="controls">
    <button class="ctrl-btn burn" id="burn-btn" onclick="burnMagnesium()">üî• Burn Mg</button>
    <button class="ctrl-btn dissolve" id="dissolve-btn" onclick="dissolveInWater()" disabled>üíß Dissolve</button>
    <button class="ctrl-btn test" id="test-btn" onclick="testWithLitmus()" disabled>üß™ Test pH</button>
  </div>
</div>

<div class="equation-box" id="equation-box">
  <div class="equation-title">‚öóÔ∏è Chemical Equation</div>
  <div class="equation" id="equation">2Mg + O‚ÇÇ ‚Üí 2MgO</div>
  <div class="equation-explain" id="equation-explain">Magnesium + Oxygen ‚Üí Magnesium Oxide (white ash)</div>
</div>

<div class="litmus-result">
  <div class="litmus-card">
    <div class="label">Red Litmus</div>
    <div class="strip" id="red-strip" style="background: #f44336;"></div>
    <div class="status" id="red-status">Before test</div>
  </div>
  <div class="litmus-card">
    <div class="label">Blue Litmus</div>
    <div class="strip" id="blue-strip" style="background: #2196f3;"></div>
    <div class="status" id="blue-status">Before test</div>
  </div>
</div>

<div class="learning-panel">
  <div class="learning-title">üî¨ Experiment Progress</div>
  <div class="learning-text" id="learning-text">
    This experiment shows how metals react with oxygen to form <strong>basic oxides</strong>.<br><br>
    <strong>Step 1:</strong> Burn magnesium ribbon in flame<br>
    <strong>Step 2:</strong> Dissolve the ash (MgO) in water<br>
    <strong>Step 3:</strong> Test with litmus paper
  </div>
</div>

<div class="takeaway">
  <div class="takeaway-title">üéØ What You'll Learn</div>
  <div class="takeaway-text">
    <strong>Metal oxides are BASIC:</strong><br>
    ‚Ä¢ Magnesium + Oxygen ‚Üí Magnesium Oxide (basic)<br>
    ‚Ä¢ MgO + Water ‚Üí Mg(OH)‚ÇÇ (base/alkali)<br>
    ‚Ä¢ Turns red litmus BLUE<br><br>
    <strong>Note:</strong> Magnesium burns with a brilliant white light - don't look directly at it!
  </div>
</div>

</div>

<script>
let step = 1;

const flame = document.getElementById('flame');
const mgRibbon = document.getElementById('mg-ribbon');
const mgPiece = document.getElementById('mg-piece');
const brightLight = document.getElementById('bright-light');
const mgoAsh = document.getElementById('mgo-ash');
const beaker = document.getElementById('beaker');
const litmusInBeaker = document.getElementById('litmus-in-beaker');

const burnBtn = document.getElementById('burn-btn');
const dissolveBtn = document.getElementById('dissolve-btn');
const testBtn = document.getElementById('test-btn');

const stepIndicator = document.getElementById('step-indicator');
const instruction = document.getElementById('instruction');
const equation = document.getElementById('equation');
const equationExplain = document.getElementById('equation-explain');
const learningText = document.getElementById('learning-text');

// Update instruction text (now it's a div, not SVG text)
function setInstruction(text) {
  instruction.textContent = text;
}

function burnMagnesium() {
  burnBtn.disabled = true;
  
  // Light the flame
  flame.style.display = 'block';
  flame.classList.add('flame');
  
  instruction.textContent = '‚ö†Ô∏è Bright light! Magnesium is burning...';
  
  setTimeout(() => {
    // Burning animation
    mgPiece.classList.add('burning');
    brightLight.style.display = 'block';
    brightLight.style.opacity = '0.8';
    
    stepIndicator.textContent = 'üî• Burning with bright white light!';
    
    learningText.innerHTML = `
      <strong style="color:#ff5722">üî• Magnesium is burning!</strong><br><br>
      The magnesium ribbon burns with a <strong>brilliant white light</strong>. This is because the reaction releases a lot of energy.<br><br>
      ‚ö†Ô∏è <em>Never look directly at burning magnesium!</em>
    `;
  }, 500);
  
  setTimeout(() => {
    // Burning complete - show ash
    mgPiece.classList.remove('burning');
    brightLight.style.opacity = '0';
    flame.classList.remove('flame');
    flame.style.display = 'none';
    mgRibbon.style.display = 'none';
    mgoAsh.style.display = 'block';
    
    stepIndicator.textContent = 'Step 2: Dissolve MgO in water';
    instruction.textContent = 'White ash (MgO) formed! Now dissolve it.';
    
    dissolveBtn.disabled = false;
    beaker.style.opacity = '1';
    
    learningText.innerHTML = `
      <strong style="color:#2e7d32">‚úÖ Magnesium Oxide (MgO) formed!</strong><br><br>
      The shiny magnesium has turned into <strong>white powdery ash</strong> - this is Magnesium Oxide.<br><br>
      <strong>Reaction:</strong> 2Mg + O‚ÇÇ ‚Üí 2MgO<br><br>
      Now let's dissolve it in water and test if it's acidic or basic!
    `;
  }, 2500);
}

function dissolveInWater() {
  dissolveBtn.disabled = true;
  
  instruction.textContent = 'Dissolving MgO in water...';
  stepIndicator.textContent = 'Dissolving in water...';
  
  // Animate MgO moving to beaker using JavaScript
  let frame = 0;
  const totalFrames = 30;
  const startX = 200, startY = 95;
  const endX = 320, endY = 180;
  
  const animateDissolve = () => {
    frame++;
    const progress = frame / totalFrames;
    
    const currentX = startX + (endX - startX) * progress;
    const currentY = startY + (endY - startY) * progress;
    const scale = 1 - (progress * 0.7);
    const opacity = 1 - progress;
    
    mgoAsh.setAttribute('transform', `translate(${currentX}, ${currentY}) scale(${scale})`);
    mgoAsh.style.opacity = opacity;
    
    if (frame < totalFrames) {
      requestAnimationFrame(animateDissolve);
    } else {
      // Animation complete
      mgoAsh.style.display = 'none';
      litmusInBeaker.style.display = 'block';
      
      equation.textContent = 'MgO + H‚ÇÇO ‚Üí Mg(OH)‚ÇÇ';
      equationExplain.textContent = 'Magnesium Oxide + Water ‚Üí Magnesium Hydroxide (a base)';
      
      stepIndicator.textContent = 'Step 3: Test with litmus paper';
      instruction.textContent = 'Solution ready! Test with litmus papers.';
      
      testBtn.disabled = false;
      
      learningText.innerHTML = `
        <strong style="color:#2196f3">üíß Dissolved in Water!</strong><br><br>
        MgO dissolves in water to form <strong>Magnesium Hydroxide Mg(OH)‚ÇÇ</strong> - a BASE.<br><br>
        <strong>Reaction:</strong> MgO + H‚ÇÇO ‚Üí Mg(OH)‚ÇÇ<br><br>
        Now let's test if this solution is acidic or basic using litmus paper!
      `;
    }
  };
  
  requestAnimationFrame(animateDissolve);
}

function testWithLitmus() {
  testBtn.disabled = true;
  
  instruction.textContent = 'Testing with litmus papers...';
  stepIndicator.textContent = 'Testing pH...';
  
  setTimeout(() => {
    // Red litmus turns blue (base detected!)
    document.getElementById('red-strip').style.background = '#2196f3';
    document.getElementById('red-litmus-svg').setAttribute('fill', '#2196f3');
    document.getElementById('red-status').textContent = '‚Üí Turned BLUE!';
    document.getElementById('red-status').style.color = '#1565c0';
    
    // Blue litmus stays blue
    document.getElementById('blue-status').textContent = 'No change';
    
    stepIndicator.textContent = '‚úÖ Experiment Complete!';
    instruction.textContent = 'Red litmus turned BLUE - it\'s a BASE!';
    
    learningText.innerHTML = `
      <strong style="color:#2e7d32">‚úÖ Experiment Complete!</strong><br><br>
      <strong>Result:</strong> Red litmus paper turned <span style="color:#1565c0; font-weight:bold">BLUE</span>!<br><br>
      This proves that <strong>Magnesium Oxide is a BASIC oxide</strong>.<br><br>
      <strong>Conclusion:</strong> When metals burn in oxygen, they form <strong>metal oxides that are basic in nature</strong>.
    `;
  }, 1000);
}
</script>
</body>
</html>
